import{V as u,a as x,f,g as h}from"./gaussian-splats-3d.module-BXHEArfE.js";function z(o,e,t,r){const n={x:o.position.x,y:o.position.y,z:o.position.z},a={x:t[0],y:t[1],z:t[2]},s={x:a.x-n.x,y:a.y-n.y,z:a.z-n.z},c=performance.now();function d(){const p=performance.now(),i=Math.min((p-c)/1e3,1);o.position.set(n.x+s.x*i,n.y+s.y*i,n.z+s.z*i),e&&e.target.set(...r),i<1?requestAnimationFrame(d):(o.position.set(a.x,a.y,a.z),e&&e.update())}d()}function y(o,e,t,r,m,n,a){const s=document.createElement("button");s.innerText=e,s.classList.add("custom-button"),s.onclick=()=>{const c=new u(...r),p=new u(...t).clone().sub(c).normalize(),i=c.clone().add(p.multiplyScalar(o));z(n,a,[i.x,i.y,i.z],r)},m.appendChild(s)}const l=new x({cameraUp:[0,-1,0],initialCameraPosition:[5.21449,1.15657,-1.18348],inMemoryCompressionLevel:1,renderMode:f.OnChange,sceneRevealMode:h.Gradual,splatSortDistanceMapPrecision:16,sceneFadeInRateMultiplier:20,dynamicScene:!1,initialCameraLookAt:[1.03942,3.57931,-1.03766],sharedMemoryForWorkers:!1});l.addSplatScene("/assets/GIGA_MAG32.ksplat",{splatAlphaRemovalThreshold:15,showLoadingUI:!0,progressiveLoad:!0,position:[0,1,0],rotation:[0,0,0,1],scale:[1.5,1.5,1.5]}).then(()=>{l.start();const o=l.camera,e=l.controls;e?(e.minDistance=4,e.maxDistance=9,e.minPolarAngle=Math.PI/6,e.maxPolarAngle=Math.PI/2.7):console.warn("Camera controls are not directly accessible. Check Viewer API."),e.autoRotate=!0,e.autoRotateSpeed=1;const t=document.createElement("div");t.style.display="flex",t.style.flexDirection="column",t.style.gap="10px",t.style.position="absolute",t.style.top="35%",t.style.left="10px",t.style.zIndex="1000",document.body.appendChild(t),y(2,"Front View",[9,4,-15],[0,0,0],t,o,e),y(3,"Top View",[8,-15,-14],[0,0,0],t,o,e)}).catch(o=>{console.error("Ошибка при загрузке сцены:",o)});
