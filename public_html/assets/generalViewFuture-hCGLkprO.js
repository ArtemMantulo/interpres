import{S as x,B as s,M as v,a as n,d as h,C as u,A as M,D as C,G as L,b as P,V as R,R as S,e as A,f as B}from"./gaussian-splats-3d.module-BPaV9HVo.js";import{b as k,d as f,P as I,G,B as O}from"./button_helper-DRIDeN4v.js";const{loaderContainer:m,loaderBar:T}=k(),r=new x,g=new B(-1.02835,1.15924,-1.29932),D=3.5,i=.07,E=4.2,U=new s(D,i,E),W=new v({transparent:!0,opacity:.7,depthWrite:!0}),l=new n(U,W);l.position.set(g.x-.5,1.15924,g.z+.2);l.visible=!1;const V=new s(4,i,20),_=new h({color:new u("hsl(98, 23.20%, 34.70%)"),transparent:!0,opacity:.9,depthWrite:!0}),c=new n(V,_);c.visible=!1;c.position.set(-5.22835,1.25924,-1.29932);const F=new s(4,i,2.9),N=new h({color:new u("hsl(98, 23.20%, 34.70%)"),transparent:!0,opacity:.9,depthWrite:!0}),d=new n(F,N);d.position.set(-1.22835,1.25924,-4.70932);d.visible=!1;const z=new s(7,i,6),H=new h({color:new u("hsl(98, 23.20%, 34.70%)"),transparent:!0,opacity:.9,depthWrite:!0}),p=new n(z,H);p.position.set(.68531,1.25924,3.97091);p.visible=!1;r.add(new M(16777215,.4));const b=new C(16777215,.8);b.position.set(5,10,5);r.add(b);const o=new L;o.add(l);o.add(c);o.add(d);o.add(p);o.rotation.y=P.degToRad(-22);const a=new R({threeScene:r,cameraUp:[0,-1,0],initialCameraPosition:[-1.245149,-1.74657,-7.65148],initialCameraLookAt:[-.63269,.53895,-2.27986],inMemoryCompressionLevel:1,renderMode:S.OnChange,sceneRevealMode:A.Gradual,splatSortDistanceMapPrecision:16,sceneFadeInRateMultiplier:20,dynamicScene:!1,sharedMemoryForWorkers:!1});a.addSplatScene("/assets/breig/Breig_future.ksplat",{splatAlphaRemovalThreshold:15,showLoadingUI:!0,progressiveLoad:!0,position:[0,1,0],rotation:[0,0,0,1],scale:[1.5,1.5,1.5],showLoadingUI:!1,onProgress:t=>{console.log(`Loading progress: ${t.toFixed(2)}%`),T.style.width=`${Math.min(t,100)}%`,t>=80&&(console.log("Progress = 100% → Removing loader"),l.visible=!0,c.visible=!0,d.visible=!0,p.visible=!0,r.add(o),m.style.transition="opacity 0.3s ease",m.style.opacity="0",setTimeout(()=>m.remove(),300))}}).then(()=>{a.start(),a.camera;const t=a.controls;t?(t.minDistance=2,t.maxDistance=7,t.minPolarAngle=Math.PI/8,t.maxPolarAngle=Math.PI/2.5):console.warn("Camera controls are not directly accessible. Check Viewer API."),t.autoRotate=!0,t.autoRotateSpeed=.2;const e=document.createElement("div");e.style.display="flex",e.style.padding="4px",e.style.alignItems="center",e.style.gap="2px",e.style.position="absolute",e.style.bottom="32px",e.style.left="48%",e.style.transform="translateX(-50%)",e.style.zIndex="1000",e.style.width="180px",e.style.height="32px",e.style.backgroundColor="#EAEAEA",e.style.borderRadius="40px",e.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)",document.body.appendChild(e);const y=window.matchMedia("(max-width: 768px)"),w=()=>{y.matches,e.style.left="50%"};w(),y.addEventListener("change",w),f(e,"Current",!1,G,I.currentProjectSecondVisitHtmlPath),f(e,"Future",!0,O)}).catch(t=>{console.error("Ошибка при загрузке сцены:",t)});
